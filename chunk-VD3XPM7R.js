import{a as C,b as I}from"./chunk-4SGKLEZY.js";import{e as g,f as r,g as D,h as L,i as w}from"./chunk-C2Q6HN6F.js";import{l as v,n as y}from"./chunk-I2A5FWL3.js";import{Da as h,Ia as l,Ma as m,Ta as u,Xa as a,Ya as s,Za as n,gb as f,hb as b,ib as p}from"./chunk-VNZJG3PG.js";import"./chunk-Q7L6LLAK.js";var N=["navbar"];function R(o,t){o&1&&(a(0,"div"),n(1,"app-navbar"),s())}var d=class o{constructor(t){this.router=t;this.router.events.subscribe(e=>{if(e instanceof r){let i=e.urlAfterRedirects.startsWith("/dashboard");this.showNav=!i,this.isDashboard=i,document.body.classList.remove("with-navbar","no-navbar"),this.isDashboard?document.body.classList.add("no-navbar"):document.body.classList.add("with-navbar")}})}isLoading=!1;isDashboard=!1;isHome=!1;navbarHeight=0;showNav=!0;navbar;ngOnInit(){this.isLoading=!0,this.router.events.subscribe(t=>{t instanceof g&&(this.isLoading=!0),(t instanceof r||t instanceof D)&&setTimeout(()=>{this.isLoading=!1,this.isDashboard=this.checkIfDashboard(),this.updateBodyClasses()},500)}),this.isDashboard=this.checkIfDashboard(),this.showNav=!this.isDashboard,this.updateBodyClasses(),this.isHome=this.checkIfHome(window.location.pathname),this.router.events.subscribe(t=>{t instanceof r&&(this.isHome=this.checkIfHome(t.urlAfterRedirects))}),setTimeout(()=>{this.isLoading=!1,this.updateBodyClasses(),this.navbar&&(this.navbarHeight=this.navbar.nativeElement.offsetHeight)},1e3),this.isDashboard=this.checkIfDashboard()}checkIfHome(t){let e=t.replace(/\/+$/,"");return e===""||e==="/home"||e==="/contact"}updateBodyClasses(){this.isLoading||(document.body.classList.remove("with-navbar","no-navbar"),this.isDashboard?document.body.classList.add("no-navbar"):document.body.classList.add("with-navbar"))}checkIfDashboard(){return window.location.pathname.includes("dashboard")}static \u0275fac=function(e){return new(e||o)(h(w))};static \u0275cmp=l({type:o,selectors:[["app-public-layout"]],viewQuery:function(e,i){if(e&1&&f(N,5),e&2){let c;b(c=p())&&(i.navbar=c.first)}},decls:5,vars:1,consts:[[4,"ngIf"]],template:function(e,i){e&1&&(m(0,R,2,0,"div",0),a(1,"div"),n(2,"router-outlet"),s(),a(3,"div"),n(4,"app-footer"),s()),e&2&&u("ngIf",!i.isDashboard&&i.showNav)},dependencies:[C,I,L,y,v],encapsulation:2})};export{d as default};
