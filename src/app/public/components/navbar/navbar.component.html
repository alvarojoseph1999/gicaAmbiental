<div
  [ngClass]="{
    'bg-transparent shadow-2xl ': isHome && !isScrolled,
    'bg-white shadow-md': !isHome || isScrolled
  }"
  class="rounded-3xl fixed top-[20px] left-0 right-0 z-50 w-[90%] md:w-[80%] mx-auto transition-all duration-300 border border-white/20"
>
  <nav
    class="w-full px-6 py-4 flex items-center animate-fade-in justify-between"
  >
    <!-- Logo -->
    <a
      routerLink="/"
      [ngClass]="{
        'text-gray-800': isHome && !isScrolled,
        'text-black': !isHome || isScrolled
      }"
      class="transition-colors duration-300 mr-auto"
    >
      <img
        src="assets/img/public/logo_gica.jpg"
        alt="GICA Logo"
        class="w-14 h-12 rounded-lg shadow-sm"
      />
    </a>

    <!-- Menú de escritorio -->
    <div class="hidden md:flex space-x-6">
      <a
        routerLink="/"
        [ngClass]="{
          active: isRouteActive('/') || isRouteActive('/home'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-all duration-300 hover:text-cyan-600 font-semibold text-lg"
      >
        Inicio
      </a>

      <div class="relative group">
        <button
          [ngClass]="{
            active: isNosotrosActive(),
            'text-white': isHome && !isScrolled,
            'text-black': !isHome || isScrolled
          }"
          class="relative nav-link flex items-center transition-all duration-300 hover:text-cyan-600 font-semibold text-lg"
        >
          Nosotros
          <svg
            class="w-4 h-4 ml-1 transition-transform duration-200 group-hover:rotate-180"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
        <div
          class="absolute left-0 mt-2 w-56 bg-white/95 backdrop-blur-md shadow-xl rounded-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 border border-gray-100"
        >
          <div class="py-2">
            <a
              routerLink="/history"
              [ngClass]="{ active: isRouteActive('/history') }"
              class="block px-6 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 nav-link transition-all duration-200 font-semibold text-lg"
            >
              Historia
            </a>
            <a
              routerLink="/objetives"
              [ngClass]="{ active: isRouteActive('/objetives') }"
              class="block px-6 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 nav-link transition-all duration-200 font-semibold text-lg"
            >
              Objetivos
            </a>
            <a
              routerLink="/workteam"
              [ngClass]="{ active: isRouteActive('/workteam') }"
              class="block px-6 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 nav-link transition-all duration-200 font-semibold text-lg"
            >
              Equipo de trabajo
            </a>
            <a
              routerLink="/collaboration"
              [ngClass]="{ active: isRouteActive('/collaboration') }"
              class="block px-6 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 nav-link transition-all duration-200 font-semibold text-lg"
            >
              Colaboración
            </a>
          </div>
        </div>
      </div>

      <a
        routerLink="/education"
        [ngClass]="{
          active: isRouteActive('/education'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-all duration-300 hover:text-cyan-600 font-semibold text-lg"
      >
        Educación y Divulgación
      </a>

      <a
        routerLink="/team"
        [ngClass]="{
          active: isRouteActive('/team'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-all duration-300 hover:text-cyan-600 font-semibold text-lg"
      >
        Equipo
      </a>

      <a
        routerLink="/contact"
        [ngClass]="{
          active: isRouteActive('/contact'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-all duration-300 hover:text-cyan-600 font-semibold text-lg"
      >
        Contacto
      </a>
    </div>

    <!-- Login y botón hamburguesa -->
    <div class="flex items-center space-x-4 md:space-x-4 md:ml-auto">
      <a
        routerLink="/login"
        class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white px-6 py-2.5 rounded-full hover:shadow-lg transition-all duration-300 transform hover:scale-105 font-medium"
      >
        Login
      </a>

      <button
        (click)="toggleMobileMenu()"
        [ngClass]="{
          'text-gray-800': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="md:hidden focus:outline-none transition-all duration-300 p-2 rounded-full hover:bg-gray-100"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 transition-transform duration-300"
          [ngClass]="{ 'rotate-90': isMobileMenuOpen }"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            [attr.d]="
              isMobileMenuOpen
                ? 'M6 18L18 6M6 6l12 12'
                : 'M4 6h16M4 12h16M4 18h16'
            "
          />
        </svg>
      </button>
    </div>
  </nav>

  <!-- Menú móvil mejorado -->
  <div
    *ngIf="isMobileMenuOpen"
    class="absolute top-full left-0 right-0 mt-2 bg-white/95 backdrop-blur-md z-50 md:hidden rounded-2xl shadow-2xl border border-gray-100 overflow-hidden animate-slide-down"
  >
    <div class="px-6 py-4 space-y-1">
      <a
        routerLink="/"
        (click)="closeMobileMenu()"
        [ngClass]="{
          'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
            isRouteActive('/') || isRouteActive('/home')
        }"
        class="block text-gray-700 py-3 px-4 rounded-xl hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200 font-medium"
      >
        Inicio
      </a>

      <div>
        <button
          (click)="toggleSubMenu()"
          [ngClass]="{
            'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
              isNosotrosActive()
          }"
          class="w-full text-left text-gray-700 py-3 px-4 rounded-xl hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200 font-medium flex items-center justify-between"
        >
          Nosotros
          <svg
            class="w-4 h-4 transition-transform duration-200"
            [ngClass]="{ 'rotate-180': isSubMenuOpen }"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>

        <div
          *ngIf="isSubMenuOpen"
          class="ml-4 mt-2 space-y-1 animate-slide-down"
        >
          <a
            routerLink="/history"
            (click)="closeMobileMenu()"
            [ngClass]="{
              'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
                isRouteActive('/history')
            }"
            class="block text-gray-600 py-2 px-4 rounded-lg hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200"
          >
            Historia
          </a>
          <a
            routerLink="/objetives"
            (click)="closeMobileMenu()"
            [ngClass]="{
              'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
                isRouteActive('/objetives')
            }"
            class="block text-gray-600 py-2 px-4 rounded-lg hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200"
          >
            Objetivos
          </a>
          <a
            routerLink="/workteam"
            (click)="closeMobileMenu()"
            [ngClass]="{
              'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
                isRouteActive('/workteam')
            }"
            class="block text-gray-600 py-2 px-4 rounded-lg hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200"
          >
            Equipo de trabajo
          </a>
          <a
            routerLink="/collaboration"
            (click)="closeMobileMenu()"
            [ngClass]="{
              'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
                isRouteActive('/collaboration')
            }"
            class="block text-gray-600 py-2 px-4 rounded-lg hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200"
          >
            Colaboración
          </a>
        </div>
      </div>

      <a
        routerLink="/education"
        (click)="closeMobileMenu()"
        [ngClass]="{
          'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
            isRouteActive('/education')
        }"
        class="block text-gray-700 py-3 px-4 rounded-xl hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200 font-medium"
      >
        Educación y Divulgación
      </a>

      <a
        routerLink="/team"
        (click)="closeMobileMenu()"
        [ngClass]="{
          'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
            isRouteActive('/team')
        }"
        class="block text-gray-700 py-3 px-4 rounded-xl hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200 font-medium"
      >
        Equipo
      </a>

      <a
        routerLink="/contact"
        (click)="closeMobileMenu()"
        [ngClass]="{
          'bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700':
            isRouteActive('/contact')
        }"
        class="block text-gray-700 py-3 px-4 rounded-xl hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-200 font-medium"
      >
        Contacto
      </a>
    </div>
  </div>
</div>

<!-- <div
  [ngClass]="{
    'bg-transparent shadow-2xl': isHome && !isScrolled,
    'bg-white shadow-md': !isHome || isScrolled
  }"
  class="rounded-3xl fixed top-[20px] left-0 right-0 z-50 w-[80%] mx-auto transition-all duration-300"
>
  <nav
    class="w-full px-6 py-4 flex items-center animate-fade-in justify-between"
  >
    <a
      routerLink="/"
      [ngClass]="{
        'text-white': isHome && !isScrolled,
        'text-black': !isHome || isScrolled
      }"
      class="transition-colors duration-300 mr-auto"
    >
      <img src="assets/img/public/logo_gica.jpg" alt="" class="w-14 h-12" />
    </a>

    <div class="hidden md:flex space-x-6">
      <a
        routerLink="/"
        [ngClass]="{
          active: isRouteActive('/') || isRouteActive('/home'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-colors duration-300"
      >
        Inicio
      </a>

      <div class="relative group">
        <button
          [ngClass]="{
            active: isNosotrosActive(),
            'text-white': isHome && !isScrolled,
            'text-black': !isHome || isScrolled
          }"
          class="relative nav-link flex items-center transition-colors duration-300"
        >
          Nosotros
        </button>
        <div
          class="absolute left-0 mt-2 w-48 bg-white shadow-lg rounded-md opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50"
        >
          <a
            routerLink="/history"
            [ngClass]="{ active: isRouteActive('/history') }"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 nav-link"
          >
            Historia
          </a>
          <a
            routerLink="/objetives"
            [ngClass]="{ active: isRouteActive('/objetives') }"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 nav-link"
          >
            Objetivos
          </a>
          <a
            routerLink="/workteam"
            [ngClass]="{ active: isRouteActive('/workteam') }"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 nav-link"
          >
            Equipo de trabajo
          </a>
          <a
            routerLink="/collaboration"
            [ngClass]="{ active: isRouteActive('/collaboration') }"
            class="block px-4 py-2 text-gray-700 hover:bg-gray-100 nav-link"
          >
            Colaboración
          </a>
        </div>
      </div>

      <a
        routerLink="/education"
        [ngClass]="{
          active: isRouteActive('/education'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-colors duration-300"
      >
        Educación y Divulgación
      </a>

      <a
        routerLink="/team"
        [ngClass]="{
          active: isRouteActive('/team'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-colors duration-300"
      >
        Equipo
      </a>

      <a
        routerLink="/contact"
        [ngClass]="{
          active: isRouteActive('/contact'),
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="relative nav-link transition-colors duration-300"
      >
        Contacto
      </a>
    </div>

    <div class="flex items-center space-x-4 md:space-x-4 md:ml-auto">
      <a
        routerLink="/login"
        class="bg-azul_primary text-white px-9 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300"
      >
        Login
      </a>

      <button
        (click)="toggleMobileMenu()"
        [ngClass]="{
          'text-white': isHome && !isScrolled,
          'text-black': !isHome || isScrolled
        }"
        class="md:hidden focus:outline-none transition-colors duration-300"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>
  </nav>
  <div
    *ngIf="isMobileMenuOpen"
    class="absolute top-full left-0 right-0 bg-azul_secondary z-50 md:hidden px-4 pb-4 space-y-2 shadow-lg"
  >
    <a
      routerLink="/"
      [ngClass]="{
        'mobile-nav-link active': isRouteActive('/') || isRouteActive('/home')
      }"
      class="block text-white py-2"
    >
      Inicio
    </a>

    <div>
      <button
        (click)="toggleSubMenu()"
        [ngClass]="{ 'mobile-nav-link active': isNosotrosActive() }"
        class="w-full text-left text-white py-2"
      >
        Nosotros
      </button>
      <div *ngIf="isSubMenuOpen" class="ml-4 space-y-1">
        <a
          routerLink="/history"
          [ngClass]="{ 'mobile-nav-link active': isRouteActive('/history') }"
          class="block text-gray-300 py-1"
        >
          Historia
        </a>
        <a
          routerLink="/objetives"
          [ngClass]="{ 'mobile-nav-link active': isRouteActive('/objetives') }"
          class="block text-gray-300 py-1"
        >
          Objetivos
        </a>
        <a
          routerLink="/workteam"
          [ngClass]="{ 'mobile-nav-link active': isRouteActive('/workteam') }"
          class="block text-gray-300 py-1"
        >
          Equipo de trabajo
        </a>
        <a
          routerLink="/collaboration"
          [ngClass]="{
            'mobile-nav-link active': isRouteActive('/collaboration')
          }"
          class="block text-gray-300 py-1"
        >
          Colaboración
        </a>
      </div>
    </div>

    <a
      routerLink="/education"
      [ngClass]="{ 'mobile-nav-link active': isRouteActive('/education') }"
      class="block text-white py-2"
    >
      Educación y Divulgación
    </a>

    <a
      routerLink="/team"
      [ngClass]="{ 'mobile-nav-link active': isRouteActive('/team') }"
      class="block text-white py-2"
    >
      Equipo
    </a>

    <a
      routerLink="/contact"
      [ngClass]="{ 'mobile-nav-link active': isRouteActive('/contact') }"
      class="block text-white py-2"
    >
      Contacto
    </a>
  </div>
</div> -->
